## What's going on in here?
I'm playing with some _Proppian_ story/skeleton generators. My end goal is to have a generator than I can call `n` times, until 50,000 words have been created. Each output should be distinctly different enough to have a passing resemblance to interesting. One of the steps there will be a templating system (underscore, probably), and word-replacement in the templates (WordNik, probably). Some sort of automated title for each output will also be required. Using a different generator, though, but using the same word-bank. (Or I'll have to give up, and just use numbers. Waaaah! However, hrm.... GUIDs, some sort of weirdness with the wordbank, or everything -- not completely linear, computer garbled? A more munged version of Darius K's re-spellings that he did last year [TODO: link cite])

Last year, I spent a bunch of time refactoring/building a template system -- and while it was a good exercise, I never used it for anything much, and it isn't nearly as flexible as `underscore`.

As of today, 2014.10.22, I don't fully understand Propp's theories; while I doubt I will completely by the end of November, I hope to improve my knowledge, and get a better understanding of what I want to do by gradually reworking some other code that's pointing me in some directions.

I suspect that, after technical issues, the hardest work will be in creating the templates.


## Directions, and potential side-resources
* WordNik
* corpora (for locations, items, things like that)
** actually, isn't it lacking locations right now? Anyway.

* [list of online fairy tales](https://github.com/bscofield/fairy-tale-remix/blob/master/data/fairy-tales.json) - from a remixer that never got remixed.
* [Bros Grimm](https://github.com/baldmountain/GrimmsFairyTales/blob/master/Grimms%20Fairy%20Tales%20-%20The%20Brothers%20Grimm.hatter/document.txt) on github (From Gutenberg)
* [Indian Fairy Tales](https://github.com/GITenberg/Indian-Fairy-Tales_7128) on github, from Gutenberg.
** there are others in this vein from the same group

### Titles
There was something on the FairyTale Plot Generator (below) that looked like it might be a title generator.
Basically, simple keyword replacement in templates.
Some variants:

[n] words about [hero] and [possessive] [situation]
[n] letters concerning [foo]
[n] sentences concerning the events of [situation|time|place]

things like that

Purple flowery synonyms for things in the story
example idea

[Fred defeats a dragon in the Valley] := The tale of Brave, Dauntless Fred and the giant undefeatable maurading Dragon of the beloved perfect emerald-green Valley


### story object (code notes)
story as generated by Propp is really a template.
Word replacement to happen later - the engine shouldn't be doing that.
Really, if no replacement, then template := story.
Story itself, though, has a structure beyond that of the generator, since it would include the wordbank, title, and other potential info - time, location, characters, etc.

I'm beginning to think the templates I have should be more complicated -- that is, actual functions. Since they need to set other conditions -- death of character, etc.
That's something that may come about (semi) organically...


## Morphology (and incept dates?) of the Folktale

http://en.wikipedia.org/wiki/Vladimir_Propp

[Propp's Morphology and his 31/32 Narratemes](http://changingminds.org/disciplines/storytelling/plots/propp/propp.htm) - the Initial situation is not counted in the original 31 narratemes. For some reason.
* [another listing](http://www.movieoutline.com/articles/vladimir-propp-narratemes-and-morphology-of-the-folktale.html) - links to an Analysis of _Lawrence of Arabia_ using Propp's narratemes.
* [another variant](http://gointothestory.blcklst.com/2014/04/propps-31-narratemes.html) - with comparisons to Campbell's _monomyth_ and Aristotelian narrative structure.
* [another variant](http://writinghorrorfiction.blogspot.com/2010/02/vladimir-propps-31-dramatic-situations.html) - includes the seven character types (covered elsewhere?)

[Fairy Tale Generator](https://web.archive.org/web/20061112014356/http://www.brown.edu/Courses/FR0133/Fairytale_Generator/gen.html) - archive.org link, and source for some of the code herein. Heavily poeticized sentence/paragraph fragments. Doesn't always flow well. Need to jettison the original text (too static, too unique).
* I found at least one other online copy not at archive.org
* as of 2014.10.22 I have not copied all of the associated info-texts that popup, although I did from the skeleton generator, below.

[Proto-Proppian Generator](http://www.stonedragonpress.com/vladimir_propp/propp_generator_v1.htm) outputs skeleton, not text. brief look at the JS appears similar to the Fairytale generator, above.

[Bard](http://web.fdi.ucm.es/profesor/fpeinado/projects/bard/) appears to be a newer version; written in Java. Can't find anything else online.

http://tvtropes.org/pmwiki/pmwiki.php/Main/ProppsFunctionsOfFolktales

## extant online generators
*[ProjectPropp](http://projectpropp.yolasite.com/text-generator.php) - the js source is very procedural, but works.
** [some notes](http://sandileonard.com/projects.php) on the above

*[FairyTale Plot Generator](http://www.springhole.net/writing_roleplaying_randomators/fairytaleplot.htm) - non-Propp. simple patchwork JS. Short output, nice variance.
** [more (plot) generators](http://www.springhole.net/writing_roleplaying_randomators/plotgens.htm) from the same site

* [Fairy Tale Generator](http://www.jacobpedia.com/nhhl/FairyTaleGenerator/index.htm) - work done behind the scenes in PHP, souce not available (?). Interesting output. Good length. Users can contribute some items, which has resulted in a certain amount of word-salad. Not an unpleasant effect. Structure seems to be intro, quest assignments [1..n], quests, conclusion.

* [Funny Fairy Tale Generator](http://www.maiaappleby.com/funny-fairy-tale-generator/) - madlibs-style fill-in-blanks for an otherwise static output. Not a bad effect though, and the source indicates that the ur-text is roughly the Wizard of Oz.

* [Story Generator](https://github.com/aherriot/story-generator)
** some interesting infrastructure and good-looking web interface, but majority of content is lacking.

* [Plot Narrator](https://github.com/kddekadenz/PlotNarrator/blob/master/unit1.pas) - it's in Pascal.
** [notes](http://opengameart.org/content/plotnarrator)
** [JavaScript port](https://github.com/anihex/SimpleStoryCreator) - no online version. Not as complicated as the proppian-gen I'm working with, but has some interesting ideas. With a larger word-bank might have enough variance?


## something else
[NLG Generator list](http://www.fb10.uni-bremen.de/anglistik/langpro/NLG-table/NLG-table-date-sort.html)
This should go somewhere; dumping it here so I see it again (found during Propp-searches)


## Functions
After the initial situation is depicted, the tale takes the following sequence of 31 functions:

- ABSENTATION: A member of a family leaves the security of the home environment. This may be the hero or some other member of the family that the hero will later need to rescue. This division of the cohesive family injects initial tension into the storyline. The hero may also be introduced here, often being shown as an ordinary person.
- INTERDICTION: An interdiction is addressed to the hero ('don't go there', 'don't do this'). The hero is warned against some action (given an 'interdiction').
- VIOLATION of INTERDICTION. The interdiction is violated (villain enters the tale). This generally proves to be a bad move and the villain enters the story, although not necessarily confronting the hero. Perhaps they are just a lurking presence or perhaps they attack the family whilst the hero is away.
- RECONNAISSANCE: The villain makes an attempt at reconnaissance (either villain tries to find the children/jewels etc.; or intended victim questions the villain). The villain (often in disguise) makes an active attempt at seeking information, for example searching for something valuable or trying to actively capture someone. They may speak with a member of the family who innocently divulges information. They may also seek to meet the hero, perhaps knowing already the hero is special in some way.
- DELIVERY: The villain gains information about the victim. The villain's seeking now pays off and he or she now acquires some form of information, often about the hero or victim. Other information can be gained, for example about a map or treasure location.
- TRICKERY: The villain attempts to deceive the victim to take possession of victim or victim's belongings (trickery; villain disguised, tries to win confidence of victim). The villain now presses further, often using the information gained in seeking to deceive the hero or victim in some way, perhaps appearing in disguise. This may include capture of the victim, getting the hero to give the villain something or persuading them that the villain is actually a friend and thereby gaining collaboration.
- COMPLICITY: Victim taken in by deception, unwittingly helping the enemy. The trickery of the villain now works and the hero or victim naively acts in a way that helps the villain. This may range from providing the villain with something (perhaps a map or magical weapon) to actively working against good people (perhaps the villain has persuaded the hero that these other people are actually bad).
- VILLAINY or LACK: Villain causes harm/injury to family member (by abduction, theft of magical agent, spoiling crops, plunders in other forms, causes a disappearance, expels someone, casts spell on someone, substitutes child etc., commits murder, imprisons/detains someone, threatens forced marriage, provides nightly torments); Alternatively, a member of family lacks something or desires something (magical potion etc.). There are two options for this function, either or both of which may appear in the story. In the first option, the villain causes some kind of harm, for example carrying away a victim or the desired magical object (which must be then be retrieved). In the second option, a sense of lack is identified, for example in the hero's family or within a community, whereby something is identified as lost or something becomes desirable for some reason, for example a magical object that will save people in some way.
- MEDIATION: Misfortune or lack is made known, (hero is dispatched, hears call for help etc./ alternative is that victimized hero is sent away, freed from imprisonment). The hero now discovers the act of villainy or lack, perhaps finding their family or community devastated or caught up in a state of anguish and woe.
- BEGINNING COUNTER-ACTION: Seeker agrees to, or decides upon counter-action. The hero now decides to act in a way that will resolve the lack, for example finding a needed magical item, rescuing those who are captured or otherwise defeating the villain. This is a defining moment for the hero as this is the decision that sets the course of future actions and by which a previously ordinary person takes on the mantle of heroism.
- DEPARTURE: Hero leaves home;
- FIRST FUNCTION OF THE DONOR: Hero is tested, interrogated, attacked etc., preparing the way for his/her receiving of a magical agent or helper (donor);
- HERO'S REACTION: Hero reacts to actions of future donor (withstands/fails the test, frees captive, reconciles disputants, performs service, uses adversary's powers against him);
- RECEIPT OF A MAGICAL AGENT: Hero acquires use of a magical agent (directly transferred, located, purchased, prepared, spontaneously appears, eaten/drunk, help offered by other characters);
- GUIDANCE: Hero is transferred, delivered or led to whereabouts of an object of the search;
- STRUGGLE: Hero and villain join in direct combat;
- BRANDING: Hero is branded (wounded/marked, receives ring or scarf);
- VICTORY: Villain is defeated (killed in combat, defeated in contest, killed while asleep, banished);
- LIQUIDATION: Initial misfortune or lack is resolved (object of search distributed, spell broken, slain person revived, captive freed);
- RETURN: Hero returns;
- PURSUIT: Hero is pursued (pursuer tries to kill, eat, undermine the hero);
- RESCUE: Hero is rescued from pursuit (obstacles delay pursuer, hero hides or is hidden, hero transforms unrecognisably, hero saved from attempt on his/her life);
- UNRECOGNIZED ARRIVAL: Hero unrecognized, arrives home or in another country;
- UNFOUNDED CLAIMS: False hero presents unfounded claims;
- DIFFICULT TASK: Difficult task proposed to the hero (trial by ordeal, riddles, test of strength/endurance, other tasks);
- SOLUTION: Task is resolved;
- RECOGNITION: Hero is recognized (by mark, brand, or thing given to him/her);
- EXPOSURE: False hero or villain is exposed;
- TRANSFIGURATION: Hero is given a new appearance (is made whole, handsome, new garments etc.);
- PUNISHMENT: Villain is punished;
- WEDDING: Hero marries and ascends the throne (is rewarded/promoted).

Occasionally, some of these functions are inverted, as when the hero receives something whilst still at home, the function of a donor occurring early. More often, a function is negated twice, so that it must be repeated three times in Western cultures.

## Characters
- The villain — struggles against the hero.
- The dispatcher — character who makes the lack known and sends the hero off.
- The (magical) helper — helps the hero in their quest.
- The princess or prize and her father — the hero deserves her throughout the story but is unable to marry her because of an unfair evil, usually because of the villain. The hero's journey is often ended when he marries the princess, thereby beating the villain.
- The donor — prepares the hero or gives the hero some magical object.
- The hero or victim/seeker hero — reacts to the donor, weds the princess.
- The false hero — takes credit for the hero’s actions or tries to marry the princess.

These roles could sometimes be distributed among various characters, as the hero kills the villain dragon, and the dragon's sisters take on the villainous role of chasing him. Conversely, one character could engage in acts as more than one role, as a father could send his son on the quest and give him a sword, acting as both dispatcher and donor.
